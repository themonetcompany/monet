<main class="min-h-screen bg-stone-100 text-stone-900">
  <div class="mx-auto flex w-full max-w-6xl gap-6 px-4 py-6 md:px-6">
    <aside class="hidden w-64 flex-shrink-0 rounded-2xl bg-white p-5 shadow-sm md:flex md:flex-col">
      <div class="flex items-center gap-3">
        <div class="flex h-10 w-10 items-center justify-center rounded-2xl bg-stone-950 text-lg font-semibold text-white">
          M
        </div>
        <div>
          <p class="text-xs uppercase tracking-[0.3em] text-stone-400">Monet</p>
          <p class="text-lg font-semibold text-stone-950">Navigation</p>
        </div>
      </div>

      <div class="mt-6 space-y-2">
        <a
          routerLink="/"
          routerLinkActive="bg-stone-100 text-stone-950"
          [routerLinkActiveOptions]="{ exact: true }"
          class="flex items-center gap-3 rounded-xl px-3 py-2 text-sm font-medium text-stone-600 transition"
        >
          <span class="text-base">üè†</span>
          Tableau de bord
        </a>
        <a
          routerLink="/accounts"
          routerLinkActive="bg-stone-100 text-stone-950"
          class="flex items-center gap-3 rounded-xl px-3 py-2 text-sm font-medium text-stone-600 transition"
        >
          <span class="text-base">üè¶</span>
          Comptes
        </a>
        <a
          routerLink="/transactions"
          routerLinkActive="bg-stone-100 text-stone-950"
          class="flex items-center gap-3 rounded-xl px-3 py-2 text-sm font-medium text-stone-600 transition"
        >
          <span class="text-base">üßæ</span>
          Transactions
        </a>
      </div>

      <div class="mt-6">
        <p class="text-[10px] font-semibold uppercase tracking-wider text-stone-400">Projets</p>
        <div class="mt-2 space-y-2">
          @if (projects$ | async; as projects) {
            @for (project of projects; track project.id) {
              <a
                routerLink="/focus"
                [queryParams]="{ type: 'project', id: project.id }"
                class="flex items-center gap-2 rounded-lg px-3 py-2 text-xs text-stone-500 transition hover:bg-stone-100 hover:text-stone-900"
              >
                <span class="text-sm">{{ project.icon }}</span>
                <span class="truncate">{{ project.name }}</span>
              </a>
            }
          }
        </div>
      </div>

      <div class="mt-6">
        <p class="text-[10px] font-semibold uppercase tracking-wider text-stone-400">Domaines</p>
        <div class="mt-2 space-y-2">
          @if (areas$ | async; as areas) {
            @for (area of areas; track area.id) {
              <a
                routerLink="/focus"
                [queryParams]="{ type: 'area', id: area.id }"
                class="flex items-center gap-2 rounded-lg px-3 py-2 text-xs text-stone-500 transition hover:bg-stone-100 hover:text-stone-900"
              >
                <span class="text-sm">{{ area.icon }}</span>
                <span class="truncate">{{ area.name }}</span>
              </a>
            }
          }
        </div>
      </div>

      <div class="mt-auto pt-6 text-[10px] uppercase tracking-[0.2em] text-stone-400">
        @if (versionLoading$ | async) {
          Loading version‚Ä¶
        } @else {
          @if (versionError$ | async; as versionError) {
            {{ versionError }}
          } @else {
            @if (version$ | async; as version) {
              Version {{ version }}
            } @else {
              Version unavailable
            }
          }
        }
      </div>
    </aside>

    <div class="min-h-screen flex-1">
      <div class="rounded-2xl bg-white shadow-sm">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>
</main>
